process Halo = 
{
	untracked PSet maxEvents = {untracked int32 input = 1000}
	
	include "Configuration/ReleaseValidation/data/Services.cff"
	include "Configuration/StandardSequences/data/FrontierConditions.cff"
	include "FWCore/MessageService/data/MessageLogger.cfi"

	untracked PSet configurationMetadata = 
	{
		untracked string version = "$Revision: 1.1 $"
		untracked string name = "$Source: /local/projects/CMSSW/rep/CMSSW/Configuration/CSA07Production/data/BeamHalo_had_BX0_GEN_SIM.cfg,v $"
		untracked string annotation = "Beam Halo Muons 10-7000 in mode 1 shift_bx = 0 (Beam 1)"
	}
	
	source = BeamHaloSource
	{
		untracked int32 GENMOD = 1
		untracked int32 LHC_B1 = 1
		untracked int32 LHC_B2 = 0
		untracked int32 IW_MUO = 1
		untracked int32 IW_HAD = 0
		untracked double EG_MIN = 30.
		untracked double EG_MAX = 7000.
		untracked int32 shift_bx  = 0  // e.g. -2, -1 for previous bunch-crossing
		untracked double BXNS = 25.      // time between 2 bx's, in ns
		untracked double crossSection = 1.
		untracked double filterEfficiency = 1.
	}
	
	include "Configuration/StandardSequences/data/Generator.cff"
	include "Configuration/StandardSequences/data/Reconstruction.cff"
	include "Configuration/StandardSequences/data/Simulation.cff"
	include "Configuration/StandardSequences/data/MixingNoPileUp.cff" 
	include "Configuration/StandardSequences/data/VtxSmearedGauss.cff" 
 	include "Configuration/StandardSequences/data/L1Emulator.cff"
#
  #path p0 = {pgen}                  # generator information
  
  path p1 = {psim}                  # simulation
  path p2 = {pdigi}                 # digitization

  include "Configuration/EventContent/data/EventContent.cff"

  module FEVT = PoolOutputModule 
  { 
    #using FEVTSIMEventContent
    untracked string fileName = "SimHaloEmin30.root"
	untracked vstring outputCommands = 
	{
		"keep *_*_*_*",
		"drop PCaloHits_*_*_*",
		"drop PCaloHitCrossingFrame_*_*_*",
		"drop HcalTriggerPrimitiveDigisSorted_*_*_*",
		"drop PSimHitCrossingFrame_mix_*_*",
		"drop SiStripRawDigiedmDetSetVector_*_*_*",
		"drop StripDigiSimLinkedmDetSetVector_*_*_*",
		"drop TrackingParitcles_*_*_*",
		"drop TrackingVertexs_*_*_*",
		"drop recoGenJets_*_*_*"
		
	}
  }

  endpath outpath = {FEVT}
  #schedule = {p0,p1,p2,outpath}
  schedule = {p1,p2,outpath}
}
