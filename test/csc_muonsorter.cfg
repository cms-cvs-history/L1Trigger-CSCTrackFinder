
process ANALYSIS = {

   	untracked PSet maxEvents = {untracked int32 input = -1}

   	source = PoolSource {
    		untracked vstring fileNames = {'file:/home/gartner/CMSSW_2_1_0_pre3/src/L1Trigger/CSCTrackFinder/test/DoubleMuPt2to100.root'}
	}
   
  	include "FWCore/MessageService/data/MessageLogger.cfi"
     
   	# magnetic field
   	#===============
   	include "Configuration/StandardSequences/data/MagneticField.cff"

   	# L1 Emulation
	#=============
	include "L1Trigger/Configuration/data/L1MuonEmulator.cff"
	replace cscTriggerPrimitiveDigis.CSCComparatorDigiProducer = muonCSCDigis:MuonCSCComparatorDigi
	replace cscTriggerPrimitiveDigis.CSCWireDigiProducer=muonCSCDigis:MuonCSCWireDigi
	
	include "L1TriggerConfig/DTTPGConfigProducers/data/L1DTTPGConfig.cff"
	include "L1TriggerConfig/DTTrackFinder/data/L1DTTrackFinderConfig.cff"
	include "L1TriggerConfig/L1CSCTPConfigProducers/data/L1CSCTriggerPrimitivesConfig.cff"
	include "L1TriggerConfig/CSCTFConfigProducers/data/L1CSCTFConfig.cff"
	include "L1TriggerConfig/L1ScalesProducers/data/L1MuTriggerScalesConfig.cff"
	include "L1TriggerConfig/L1ScalesProducers/data/L1MuTriggerPtScaleConfig.cff"
	include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
	include "CalibMuon/Configuration/data/DT_FakeConditions.cff"
	
	

   	# LUTs' producer (populates EventSetup)
   	#======================================
   	include "L1TriggerConfig/CSCTFConfigProducers/data/CSCTFConfigProducer.cfi"
   	include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"
   
   module outy = PoolOutputModule
   {
		   untracked string fileName = "./trackfinders.root"
		   untracked vstring outputCommands =
		   {
			   "keep *"
			   #"drop *",
			   #"keep *_muonCSCDigis_*_*",
			   #"keep *_muonDTDigis_*_*",
			   #"keep *_muonRPCDigis_*_*",
			   #"keep *_L1CSCTrackCollection_*_*"
		   }
   }



	# Ana Module
	#===========
	module effic = CSCTFEfficiencies {
		untracked string OutFile = "Outfile.root"
		untracked bool MSoutOrSPout = true
	}

   	sequence TriggerPrimitives = { cscTriggerPrimitiveDigis, dtTriggerPrimitiveDigis}
	sequence TrackFinders = { csctfTrackDigis, csctfDigis}


	path p = {TriggerPrimitives,  TrackFinders, effic}
#       path p = {TriggerPrimitives,  TrackFinders}
#       endpath outpath = {outy}
}
