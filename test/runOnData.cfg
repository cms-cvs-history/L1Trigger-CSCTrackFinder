process TEST = {
    service = MessageLogger {
      untracked vstring destinations = { "cout", "cerr"  }
      untracked PSet cout = { untracked string threshold = "INFO"    }
      untracked PSet cerr = { untracked string threshold = "WARNING" }
      untracked vstring debugModules   = { "*" }
    }

   untracked PSet maxEvents = {untracked int32 input = -1}

#	source = DaqSource{
#                untracked string readerPluginName = "CSCFileReader"
#		untracked PSet readerPset = {
#			untracked vstring RUI01  = {'/tmp/kkotov/43541.bin_760'}
#			untracked vstring FED760 = {'RUI01'}
#			untracked int32 firstEvent  = 304
#		}
#	}
#        source = NewEventStreamFileReader {
#                untracked vstring fileNames = {
#                    'file:/tmp/kkotov/GlobalCruzet1.00043541.0001.A.storageManager.0.0000.dat',
#                    'file:/tmp/kkotov/GlobalCruzet1.00043541.0001.A.storageManager.0.0001.dat',
#                    'file:/tmp/kkotov/GlobalCruzet1.00043541.0001.A.storageManager.1.0000.dat',
#                    'file:/tmp/kkotov/GlobalCruzet1.00043541.0001.A.storageManager.1.0001.dat',
#                    'file:/tmp/kkotov/GlobalCruzet1.00043541.0001.A.storageManager.2.0000.dat',
#                    'file:/tmp/kkotov/GlobalCruzet1.00043541.0001.A.storageManager.2.0001.dat',
#                    'file:/tmp/kkotov/GlobalCruzet1.00043541.0001.A.storageManager.3.0000.dat',
#                    'file:/tmp/kkotov/GlobalCruzet1.00043541.0001.A.storageManager.3.0001.dat'
#                }
#                int32 max_event_size = 2000000
#                int32 max_queue_depth = 5
#        }
     source = PoolSource{
         untracked vstring fileNames = {
            "file:/tmp/kkotov/dy207.root"
         }
     }

   # es_source of ideal geometry
   # ===========================
   # endcap muon only...
   include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"

   # flags for modelling of CSC geometry
   # ===================================
   include "Geometry/CSCGeometry/data/cscGeometry.cfi"

   # magnetic field (do I need it?)
   # ==============================
   #include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

   # csc trackfinder
   #================
   module csctfDigis = csctfunpacker from "EventFilter/CSCTFRawToDigi/data/csctfunpacker.cfi"
   include "L1Trigger/CSCTrackFinder/data/csctfTrackDigis.cfi"
#   replace csctfTrackDigis.SectorReceiverInput = csctfDigis:
   replace csctfTrackDigis.SectorReceiverInput = cscTriggerPrimitiveDigis:MPCSORTED
   replace csctfTrackDigis.useDT = false

   # Configuration via EventSetup
   include "L1TriggerConfig/CSCTFConfigProducers/data/L1CSCTFConfig.cff"
   include "L1TriggerConfig/L1ScalesProducers/data/L1MuTriggerScalesConfig.cff"
   include "L1TriggerConfig/L1ScalesProducers/data/L1MuTriggerPtScaleConfig.cff"

   include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"

     module emulator_analyzer = CSCTFAnalyzer {
         untracked InputTag lctProducer    = cscTriggerPrimitiveDigis:MPCSORTED
         untracked InputTag trackProducer  = csctfTrackDigis:
         untracked InputTag statusProducer = null:
     }

     module data_analyzer = CSCTFAnalyzer {
         untracked InputTag lctProducer    = csctfDigis:
         untracked InputTag trackProducer  = csctfDigis:
         untracked InputTag statusProducer = null:
     }

     module comparator = CSCTFanalyzer {
         untracked InputTag lctProducer        = csctfDigis:
         untracked InputTag dataTrackProducer  = csctfDigis:
         untracked InputTag emulTrackProducer  = csctfTrackDigis:
         untracked uint32 verbose = 3
     }

#     path p = {csctfDigis,csctfTrackDigis,emulator_analyzer,data_analyzer,comparator}
     path p = {csctfTrackDigis,emulator_analyzer}

   # Output module
#   module output = PoolOutputModule {
#      untracked string fileName = "/tmp/kkotov/_tf.root"
#   }
#   endpath outpath = { output }
}
