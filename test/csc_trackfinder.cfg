process TEST = {
   untracked PSet maxEvents = {untracked int32 input = 100 }

   source = PoolSource {
      untracked vstring fileNames = {'file:/tmp/kkotov/dy_160pre3.root'}
      untracked uint32 debugVebosity = 10
      untracked bool   debugFlag     = true
   }

   # es_source of ideal geometry
   # ===========================
   # endcap muon only...
   #include "Geometry/MuonCommonData/data/muonEndcapIdealGeometryXML.cfi"
   include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"

   # flags for modelling of CSC geometry
   # ===================================
   include "Geometry/CSCGeometry/data/cscGeometry.cfi"

   # magnetic field (do I need it?)
   # ==============================
   #include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

   # csc trigger primitives
   #=======================
   include "L1Trigger/CSCTriggerPrimitives/data/CSCTriggerPrimitivesProducer.cfi"

   # csc trackfinder
   #================
   include "L1Trigger/CSCTrackFinder/data/CSCTrackFinder.cfi"

   # dt trigger primitives
   #======================
   include "Geometry/DTGeometry/data/dtGeometry.cfi"
   include "L1TriggerConfig/DTTPGConfigProducers/data/L1DTTPGConfig.cff"
   include "L1Trigger/DTTrigger/data/l1DTTPGEmulDigis.cfi"

   # dt trackfinder
   #===============
   module DTTrackFinder = DTTrackFinder{
          			        untracked string lutdir ="/afs/hep.wisc.edu/user/lgray/CMSSW_1_1_2/src/L1Trigger/DTTrackFinder/parameters/"
        			       }

   # LUTs' producer (populates EventSetup)
   #include "L1TriggerConfig/CSCTFConfigProducers/data/tf_config.cfi"
   es_module = CSCTFConfigProducer {
      untracked string ptLUT_path  = "/tmp/kkotov/pt.txt"
      untracked string dt1LUT_path = "/tmp/kkotov/globalPhiMB_F1.txt"
      untracked string dt2LUT_path = "/tmp/kkotov/globalPhiMB_F2.txt"
      untracked string localPhiLUT_path   = "/tmp/kkotov/localPhiME_F5.txt"
      untracked string globalPhi1LUT_path = "/tmp/kkotov/globalPhiME_F1.txt"
      untracked string globalPhi2LUT_path = "/tmp/kkotov/globalPhiME_F2.txt"
      untracked string globalPhi3LUT_path = "/tmp/kkotov/globalPhiME_F3.txt"
      untracked string globalPhi4LUT_path = "/tmp/kkotov/globalPhiME_F4.txt"
      untracked string globalPhi5LUT_path = "/tmp/kkotov/globalPhiME_F5.txt"
      untracked string globalEta1LUT_path = "/tmp/kkotov/globalEtaME_F1.txt"
      untracked string globalEta2LUT_path = "/tmp/kkotov/globalEtaME_F2.txt"
      untracked string globalEta3LUT_path = "/tmp/kkotov/globalEtaME_F3.txt"
      untracked string globalEta4LUT_path = "/tmp/kkotov/globalEtaME_F4.txt"
      untracked string globalEta5LUT_path = "/tmp/kkotov/globalEtaME_F5.txt"
  }
es_source L1MuCSCDTLutRcdSrc = EmptyESSource {
    string recordName = "L1MuCSCDTLutRcd"
    vuint32 firstValid = { 1 }
    bool iovIsRunNotTime = true
}
es_source L1MuCSCPtLutRcdSrc = EmptyESSource {
    string recordName = "L1MuCSCPtLutRcd"
    vuint32 firstValid = { 1 }
    bool iovIsRunNotTime = true
}
es_source L1MuCSCLocalPhiLutRcdSrc = EmptyESSource {
    string recordName = "L1MuCSCLocalPhiLutRcd"
    vuint32 firstValid = { 1 }
    bool iovIsRunNotTime = true
}
es_source L1MuCSCGlobalLutsRcdSrc = EmptyESSource {
    string recordName = "L1MuCSCGlobalLutsRcd"
    vuint32 firstValid = { 1 }
    bool iovIsRunNotTime = true
}

   include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"

   # MESSAGE LOGGER
   #===============
   service = MessageLogger {
      untracked vstring destinations = { "log.txt", "debug.txt", "errors.txt" }
      untracked vstring statistics = { "statistics.txt" }

# Constrain log.txt to LogInfo output...
##      untracked PSet log.txt = { untracked string threshold = "INFO" }

# No constraint on log.txt content...
      untracked PSet log.txt = { untracked int32 lineLength = 132
                       untracked bool noLineBreaks = true
                     }

      untracked PSet debug.txt = { untracked string threshold = "DEBUG"
                        untracked int32 lineLength = 132
                        untracked bool noLineBreaks = false
                       }

      untracked PSet errors.txt = { untracked string threshold = "ERROR" }

      untracked PSet statistics.txt = { untracked string threshold = "INFO" }

# turn on the following to get LogDebug output
# ============================================
#      untracked vstring debugModules = {  "*"  }
      untracked vstring debugModules = { "l1csctracks","csctfmuonsorter" }
   }

   # Output module
   module GEN-SIM-DIGI = PoolOutputModule
   {
      untracked string fileName = "/tmp/kkotov/_test_trackfinders.root"
	untracked vstring outputCommands =
                {
                        "keep *"
#                        "drop *",
#			"keep *_muonCSCDigis_*_*",
#			"keep *_muonDTDigis_*_*",
#			"keep *_muonRPCDigis_*_*",
#			"keep *_L1CSCTrackCollection_*_*"
                }
   }

   sequence muonDigi = { muonCSCDigis &  muonDTDigis & muonRPCDigis}
#   sequence doTrackFinders = { csc_tf_cands, DTTrackFinder }

#   path p = {lctproducer, l1DTTPGEmulDigis, csc_tf_cands}
   path p = {lctproducer, l1DTTPGEmulDigis, csc_sp_tracks}

   endpath outpath = { GEN-SIM-DIGI }

}
